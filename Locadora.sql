/*CREATE DATABASE Relatorio;

/*Tabelas*/

CREATE TABLE Cliente (
	CPF DECIMAL(11) PRIMARY KEY,
	nome VARCHAR(50) NOT NULL,
	tipo VARCHAR(30) NOT NULL
);


CREATE TABLE Marca (
	codMarca INTEGER PRIMARY KEY,
	descMarca VARCHAR(30) NOT NULL UNIQUE
);

CREATE TABLE Modelo (
	codModelo INTEGER PRIMARY KEY,
	descModelo VARCHAR(30) NOT NULL UNIQUE,
	codigoMarca INTEGER NOT NULL,
	FOREIGN KEY (codigoMarca) REFERENCES Marca (codMarca)
);

CREATE TABLE Categoria (
	codCategoria VARCHAR (30) PRIMARY KEY ,
	valorUmaDiaria REAL NOT NULL CHECK (valorUmaDiaria >= 0)
);

CREATE TABLE Carro (
	placa VARCHAR (8) PRIMARY KEY,
	codigoMarca INTEGER NOT NULL,
    codigoCategoria VARCHAR (30) NOT NULL,
	codigoModelo INTEGER NOT NULL,
	KMAtual REAL NOT NULL CHECK (KMAtual >= 0),
	FOREIGN KEY (codigoModelo) REFERENCES Modelo (codModelo),
	FOREIGN KEY (codigoMarca) REFERENCES Marca (codMarca),
    FOREIGN KEY (codigoCategoria) REFERENCES Categoria (codCategoria)
);

CREATE TABLE Fatura (
	codFatura INTEGER PRIMARY KEY,
	CPFCliente DECIMAL(11) NOT NULL,
	FOREIGN KEY (CPFCliente) REFERENCES Cliente (CPF)
);

CREATE TABLE FaturaCarro (
	codigoFatura INTEGER NOT NULL,
	placa VARCHAR (8) NOT NULL,
	KMInicial INTEGER NOT NULL CHECK (KMInicial >= 0), 
	KMFinal INTEGER NOT NULL CHECK (KMFinal >= 0), 
	qtdDiarias INTEGER NOT NULL CHECK (qtdDiarias >= 0),
	FOREIGN KEY (placa) REFERENCES Carro (placa),
	FOREIGN KEY (codigoFatura) REFERENCES Fatura (codFatura),
	PRIMARY KEY (placa, codigoFatura)
);

/*Inserções*/

/*Cliente*/

INSERT INTO Cliente VALUES(54367893211, 'ANTONIO CARLOS MENDES', 'RUBY');

INSERT INTO Cliente VALUES(11239874566, 'MARIA SILVA CARVALHO', 'RUBY');

INSERT INTO Cliente VALUES(98765432122, 'CARLOS DA SILVA MENDES', 'DIAMANTE');

INSERT INTO Cliente VALUES(12345678900, 'JOSÉ ANTONIO DA SILVA', 'VIP');

SELECT * FROM Cliente;

/*Marca*/

INSERT INTO Marca VALUES (1, 'VOLKSWAGEN');

INSERT INTO Marca VALUES (2, 'GM');

INSERT INTO Marca VALUES (3, 'TOYOTA');

INSERT INTO Marca VALUES (4, 'MERCEDES');

INSERT INTO Marca VALUES (5, 'VOLVO');

/*Modelo*/

INSERT INTO Modelo VALUES (1, 'GOL', 1);

INSERT INTO Modelo VALUES (2, 'COBALT', 2);

INSERT INTO Modelo VALUES (3, 'CAPTIVA', 2);

INSERT INTO Modelo VALUES (4, 'SW4', 3);

INSERT INTO Modelo VALUES (5, 'C-18', 4);

INSERT INTO Modelo VALUES (6, 'V60', 5);

/*Categoria*/

INSERT INTO Categoria VALUES ('ECÔNOMICO', 65);

INSERT INTO Categoria VALUES ('INTERMEDIÁRIO', 75);

INSERT INTO Categoria VALUES ('SUV', 110);

INSERT INTO Categoria VALUES ('EXECUTIVO', 250);

/*Carro*/

INSERT INTO Carro VALUES ('ABC-1234', 1,'ECÔNOMICO', 1, 1700);

INSERT INTO Carro VALUES ('JCW-4321', 2,'INTERMEDIÁRIO', 2, 14560);

INSERT INTO Carro VALUES ('ASD-3456', 2, 'SUV', 3, 1590);

INSERT INTO Carro VALUES ('WER-5678', 3, 'SUV', 4, 6570);

INSERT INTO Carro VALUES ('QWS-1234', 4, 'EXECUTIVO', 5, 1350);

INSERT INTO Carro VALUES ('QAS-1256', 5, 'EXECUTIVO', 6, 1500);

INSERT INTO Carro VALUES ('KOP-1256', 5, 'EXECUTIVO', 6, 45500);

INSERT INTO Carro VALUES ('RNU-3456', 2, 'INTERMEDIÁRIO', 2, 41590);

INSERT INTO Carro VALUES ('TRB-1234', 4, 'EXECUTIVO', 5, 41350);

/*Fatura*/

INSERT INTO Fatura VALUES (1230, 12345678900);

INSERT INTO Fatura VALUES (1330, 12345678900);

INSERT INTO Fatura VALUES (3450, 12345678900);

INSERT INTO Fatura VALUES (235, 12345678900);

INSERT INTO Fatura VALUES (987, 98765432122);

INSERT INTO Fatura VALUES (569, 98765432122);

INSERT INTO Fatura VALUES (2987, 11239874566);

INSERT INTO Fatura VALUES (23456, 11239874566);

INSERT INTO Fatura VALUES (12346, 54367893211);

INSERT INTO Fatura VALUES (56435, 54367893211);

/*FaturaCarro*/

INSERT INTO FaturaCarro VALUES (1230, 'ABC-1234', 1000, 1700, 5);

INSERT INTO FaturaCarro VALUES (1330, 'JCW-4321', 13450, 14560, 8);

INSERT INTO FaturaCarro VALUES (3450, 'ASD-3456', 23459, 28450, 4);

INSERT INTO FaturaCarro VALUES (3450, 'WER-5678', 4578, 6570, 6);

INSERT INTO FaturaCarro VALUES (235, 'QWS-1234', 3240, 5689, 7);

INSERT INTO FaturaCarro VALUES (987, 'QAS-1256', 1000, 1500,  6);

INSERT INTO FaturaCarro VALUES (987, 'QWS-1234', 1000, 1350, 6);

INSERT INTO FaturaCarro VALUES (569, 'ASD-3456', 1290, 1590, 3);

INSERT INTO FaturaCarro VALUES (2987, 'KOP-1256', 21350, 25500, 8);

INSERT INTO FaturaCarro VALUES (2987, 'RNU-3456', 21290, 21590, 5);

INSERT INTO FaturaCarro VALUES (23456, 'TRB-1234', 21000, 21350, 7);

INSERT INTO FaturaCarro VALUES (12346, 'KOP-1256', 31350, 45500, 18);

INSERT INTO FaturaCarro VALUES (12346, 'RNU-3456', 31290, 41590, 15);

INSERT INTO FaturaCarro VALUES (56435, 'TRB-1234', 31000, 41350, 17);


